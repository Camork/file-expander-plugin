plugins {
    id 'groovy'
    id 'org.jetbrains.intellij' version '1.9.0'
}

group 'com.github.camork'
version '2.0'

sourceCompatibility = 11
targetCompatibility = 11

repositories {
    maven {
        url = 'https://maven.aliyun.com/nexus/content/groups/public/'
    }
    mavenCentral()
}

configurations.testImplementation.extendsFrom(configurations.compileOnly)

dependencies {
    compileOnly 'org.codehaus.groovy:groovy-all:2.5.11'
    compileOnly 'org.apache.commons:commons-compress:1.18'
}

intellij {
    version = "2021.1"
    plugins = ['java']
    version project.version
}

runIde {
    jvmArgs "-Xmx512m"
    jbrVersion = ""
}

patchPluginXml {
    sinceBuild = "211"
    untilBuild = ""
}

publishPlugin {
    token = "$token"
}